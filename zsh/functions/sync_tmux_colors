# vim:filetype=zsh
# reapply tmux window and pane colors such that inactive windows remain dim

if [[ -f "$XDG_DATA_HOME/base16/current-theme.sh" ]]; then
  local THEME="$XDG_DATA_HOME/base16/current-theme.sh"
  local BG=$(grep color_background= "$THEME" | cut -d \" -f2 | sed -e 's#/##g')
  local CC=$(grep color18= "$THEME" | cut -d \" -f2 | sed -e 's#/##g')
  local FG=$(grep color_foreground= "$THEME" | cut -d \" -f2 | sed -e 's#/##g')
  local RED=$(grep color01= "$THEME" | cut -d \" -f2 | sed -e 's#/##g')
else
  echo "ERROR: No such file $XDG_DATA_HOME/base16/current-theme.sh."
  exit 1
fi

command tmux set -a window-active-style "bg=#$BG"
command tmux set -a window-style "bg=#$CC"
command tmux set -g window-status-current-style "bg=#$CC,fg=#$RED,bold,italics"
command tmux set -g pane-active-border-style "bg=#$CC"
command tmux set -g pane-border-style "bg=#$CC"
command tmux set -g status-style "bg=#$CC,fg=#$FG,bold,italics"
command tmux set -g window-status-bell-style "fg=#$RED,bold,underscore"
